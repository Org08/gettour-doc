
# 訂房系統

底下會列出所有功能, 而實際使用時, 會根據權限開放不同功能.

---

## 登入

- 基本登入功能.

- 錯誤訊息提示.

- 保持登入狀態.

---

## 主功能頁

- 開啟個子功能的主選單.

- 視需要可以開啟顯示數量用的數字泡泡, 例如新訂單的提示.

---

## 訂房

這是後來設計的, 以地圖範圍搜尋優先, 接著才根據這些飯店撈符合條件的即時空房. 目的是為了提升效率.

由於舊版的也還沒廢除, 所以另外拉出來一個章節. 未來會視情況取代或並存.

### 地圖

- 以選擇的位置為圓心, 標示出所設定的範圍.

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF), 在範圍內顯示出飯店.

- 可拖曳外圈來調整範圍. 調整完會刷新符合條件的飯店.

- 可拖曳圓心來調整中心位置. 調整完會刷新符合條件的飯店.

- 點選飯店標示, 會顯示出簡略的飯店資訊. 並同時選取在飯店列表裡的該飯店. 

- 當飯店列表裡的飯店被點選, 會同時選取地圖上的飯店標示並移動到畫面裡, 並在飯店標示上顯示出簡略的飯店資訊.

### 篩選面板

- 分為搜尋靜態資料的部分, 和查詢即時空房資訊的部分. 這只對系統有差別, 對使用者則沒有影響.

- 位置欄位可以輸入地址或關鍵字, 所查詢到的地點會即時反應在[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)上. 反之若從[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)上移動中心點, 新的地址也會顯示在位置欄位.

- 範圍欄位也會即時影響地圖上的範圍圓圈. 反之若從[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)上調整範圍, 新的範圍也會顯示在範圍欄位.

- 星級可以用大於小於和等於來更進一步控制條件.

- 可以設定不同的排序, 改變飯店列表的顯示. 例如依據距離或是價錢, 高到低或低到高.

### 飯店列表

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF)與[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)的設定, 顯示出符合條件的飯店.

- 點選飯店會同時在[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)上選取該飯店的標示, 並顯示出簡易的飯店資訊.

- 當在[地圖](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E5%9C%B0%E5%9C%96)上點選飯店標示, 會同時選取在飯店列表裡的該飯店. 

- 可以開啟此飯店的房間列表.

### 房間列表

- 列出符合[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/booking.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF)的特定飯店房間.

- 可以開啟房間詳細資料, 並設定訂房資料和送出訂房.

---

## 訂房紀錄

### 篩選面板

- 篩選要顯示的紀錄.

- 可篩選 `訂單編號` `供應商` `Agent` `國家城市` `飯店` `顧客` `下單日期` `保住日期` `入住日期` `退房日期` `訂單狀態`.

### 訂單列表

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF-1)顯示出符合條件的訂單.

- 點選列表項目可以開啟訂單細節. 並可視訂單狀況執行修改或刪除等操作.

---

## 帳務

類似[訂房紀錄](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E8%A8%82%E6%88%BF%E7%B4%80%E9%8C%84), 但是是訂單確立後的帳務相關操作.

---

## 供應商

### 篩選面板

- 篩選要顯示的供應商.

- 可篩選 `名稱` `電話` `Email`.

### 供應商列表

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF-2)顯示出符合條件的供應商.

- 點選列表項目可以開啟供應商子功能選單.

### 供應商子功能

#### 基本資料

修改供應商基本資料.

#### 訂房紀錄

如同一般[訂房紀錄](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E8%A8%82%E6%88%BF%E7%B4%80%E9%8C%84), 只是範圍限定在此供應商.

#### 保證金

- 設定對應此供應商的保證金.

- 可以輸入 `金額` 和 `備註`, 並操作 `存入` 或 `提出`.

- 所有存提紀錄依時間顯示於列表上.

#### 帳務

如同一般[帳務](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E5%B8%B3%E5%8B%99), 只是範圍限定在此供應商.

#### 加減價

- 設定對應此供應商的加減價.

- 可設定預設的加減價, 會套用在所有沒有額外設定過的 `國家` `城市` `酒店`.

- 所有加減價都有 `百分比` 和 `實際金額` 兩類.

- 加減價可以針對不同貨幣設定不同的值.

- 加減價會依序以 `國家` `城市` `酒店` 向下套用. 若下層有設定, 則以下層為準, 反之則使用上層的值.

- 介面分為 `國家` `城市` `酒店` 三層, 各自有輸入框可以設定搜尋條件. 點上層物件會搜尋出被包含於其中的下層物件, 例如在國家點了 `日本`, 就會在城市出現 `東京` `大阪` 等日本城市.


---

## 旅行社

### 篩選面板

- 篩選要顯示的旅行社.

- 可篩選 `統編` `名稱` `負責人` `電話`.

### 供應商列表

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF-3)顯示出符合條件的旅行社.

- 點選列表項目可以開啟旅行社子功能選單.

### 旅行社子功能

#### 基本資料

修改旅行社基本資料.

#### 訂房紀錄

如同一般[訂房紀錄](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E8%A8%82%E6%88%BF%E7%B4%80%E9%8C%84), 只是範圍限定在此旅行社.

#### 帳務

如同一般[帳務](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E5%B8%B3%E5%8B%99), 只是範圍限定在此旅行社.

#### 加價

- 設定對應此旅行社的加價.

- 可設定預設的加價, 會套用在所有沒有額外設定過的 `國家` `城市` `酒店`.

- 所有加價都有 `百分比` 和 `實際金額` 兩類.

- 加價可以針對不同貨幣設定不同的值.

- 加價會依序以 `國家` `城市` `酒店` 向下套用. 若下層有設定, 則以下層為準, 反之則使用上層的值.

- 介面分為 `國家` `城市` `酒店` 三層, 各自有輸入框可以設定搜尋條件. 點上層物件會搜尋出被包含於其中的下層物件, 例如在國家點了 `日本`, 就會在城市出現 `東京` `大阪` 等日本城市.

> 不同於供應商能加減價, 旅行社只能加價

#### Agent 管理

- Agent 的設定都隸屬於旅行社下, 沒有額外設定的參數都依據旅行社的值.

- Agent 列表有搜尋功能, 點了特定 Agent 會開啟 Agent 子功能.

- Agent 子功能有 `基本資料` `訂房紀錄` `帳務`. `基本資料` 用來修改其資料. `訂房紀錄` `帳務` 與其他同名功能相同, 只是限於此 Agent 的資料.

---

## 帳號

### 篩選面板

- 篩選要顯示的帳號.

- 可篩選 `帳號‵` `暱稱` `權限` `狀態`.

### 帳號列表

- 根據[篩選面板](https://github.com/Org08/gettour-doc/blob/master/front/console.md#%E7%AF%A9%E9%81%B8%E9%9D%A2%E6%9D%BF-4)顯示出符合條件的帳號.

- 點選列表項目可以開啟帳號的修改介面, 可修改帳號的 `帳號‵` `暱稱` `權限` `狀態`.

---

## 系統

系統的核心設定.

### 國家

- 建立本系統定義的國名, 與 `城市` `飯店` 會有階層關係.

- 可以搜尋列表, 新增或修改或刪除資料.

### 城市

- 建立本系統定義的國名, 與 `國家` `飯店` 會有階層關係.

- 可以搜尋列表, 新增或修改或刪除資料.

### 飯店

- 建立本系統定義的國名, 與 `國家` `城市` 會有階層關係.

- 可以搜尋列表, 新增或修改或刪除資料.

- 其中的 `名稱` `電話` `地址` `網址` `Email` `經緯度`, 是整個系統在搜尋時的主要參考.  

### 房型

- 可以搜尋列表, 新增或修改或刪除資料.

- 可以設定房型的 `名稱` 和 `人數`.

- Mapping 介面會列出系統載入過的房型, 可以在此處設定哪些第三方系統匯入的房型, 是對應本系統的這個房型.

> 手動 Mapping 介面基本上都這樣運作, 但還有很多沒有列在這.

---

---

| [回目錄](https://github.com/Org08/gettour-doc/blob/master/README.md) |
[回前端介面](https://github.com/Org08/gettour-doc/blob/master/README.md) |

---
